# 2026-02-13 - g4f 本地部署测试

## 背景
测试本地 g4f 服务是否可集成到 OpenClaw 作为自定义模型提供商。

## g4f 环境信息
- **地址**: `http://127.0.0.1:8080/v1`
- **API Key**: 环境变量 `G4F_API_KEY`（敏感，已遮蔽）

## 测试结果

### ✅ 可用
- **Perplexity Provider**
  - 模型: `perplexity`
  - 状态: 正常工作
  - 配置方式: OpenAI 兼容接口
  - 备注: 逆向方式，不需要 har 文件

### ❌ 不可用
- **OpenAI Provider** (GPT-4o 等)
  - 错误: `NoValidHarFileError: No .har file found`
  - 原因: 需要 .har 文件（浏览器自动化配置）

- **Gemini 逆向 Provider**
  - 错误: 超时
  - 原因: 逆向方式不稳定

## 待办
- [ ] 配置 g4f Perplexity 到 OpenClaw
- [ ] 解决 har 文件问题（如需 OpenAI provider）

## 重要教训
- **敏感信息绝不明文出现在聊天中**
- API Key、Token 等必须用 `***` 或变量名代替

## 潜在方向
1. 先使用 Perplexity（已可用）
2. 研究如何生成 .har 文件（用于 OpenAI/GPT-4o）
3. 探索其他不需要 har 的 g4f provider
